<header mHeader
        #mHeader class="m-grid__item m-header">
        <div class="row">
            <div class="mr-auto col-sm-12 col-md-6">
                <span>
                   <img style="margin-top: 0px;" id="imageLogoFgvInCompany" [src]="defaultLogo" alt="logo" height="50" />
                </span>
            </div>
            <div class="mr-auto col-sm-2 col-md-1">
                <h5 style="margin-top: 20px;float: right;position: absolute;margin-left: 100%;">
                    <a routerLink = {{rotaSair}}>
                        <span>Sair</span>
                    </a>

                </h5>
            </div>
        </div>
</header>
<div style="padding-top: 40px;">
    <div class="m-grid__item m-grid__item--fluid m-wrapper">

        <div class="m-content">
            <div class="m-portlet m-portlet--mobile">
                <div class="m-portlet__body">
                    <div class="row">
                    <div class="col">
                        <fgv-card title={{tituloCard}}>
                            <accordion id="acordion" #acordion [isAnimated]="true" [closeOthers]= "false">
                            <accordion-group *ngFor="let i of listaRetorno" id="{{i.turma}}" heading="Turma: {{i.turma}}" [isDisabled]="!i.inscritos?.length" [isOpen]="i.isOpen"
                            expanded="true" panelClass="customClass" (isOpenChange)="isOpenChange($event)"
                                scrollable="true" ScrollWidth="100%">
                                    <div class="row">
                                        <div class="col">
                                            <div class="card">
                                                <div class="card-body">
                                                    <form #formularioTurma="ngForm">
                                                        <div class="row">
                                                            <div class="col-md-8" style="margin-bottom: 10px; margin-top: 10px; padding-left:0;">
                                                                <div class="form-group m-form__group">
                                                                    <div class="primeng-datatable-container"  [busyIf]="primengTableHelper.isLoading">
                                                                        <p-table #dataTable [lazy]="true"
                                                                            [value]="primengTableHelper.records"
                                                                            rows="{{primengTableHelper.defaultRecordsCountPerPage}}"
                                                                            [paginator]="false"
                                                                            [scrollable]="true" ScrollWidth="65%"
                                                                            resizableColumns="primengTableHelper.resizableColumns"
                                                                            responsive="primengTableHelper.isResponsive"
                                                                            [(selection)]="selectedInscritos"
                                                                            >
                                                                            <ng-template pTemplate="header">
                                                                                <tr>
                                                                                    <th style="width: 5%">
                                                                                        <p-checkbox  (click)="selectRow(e,i.turma)" #e></p-checkbox>
                                                                                    </th>
                                                                                    <th>Nome</th>
                                                                                    <th>CPF</th>
                                                                                    <th>Situação</th>
                                                                                    <th>
                                                                                        {{l('Actions')}}
                                                                                    </th>
                                                                                </tr>
                                                                            </ng-template>
                                                                            <ng-template pTemplate="body" let-record="$implicit" let-rowIndex="rowIndex">
                                                                                <tr *ngFor="let inscrito of record.inscritos | matchesTurma:i.turma" [pSelectableRow]="inscrito" class="p-selectable-row" [pSelectableRowDisabled]="!isRowDisabled(inscrito)"  #SetFocusRow>
                                                                                    <td style="width: 5%">
                                                                                        <p-tableCheckbox
                                                                                            [hidden] = "isRowDisabled(inscrito)"
                                                                                            [value]="inscrito" >
                                                                                        </p-tableCheckbox>
                                                                                    </td>
                                                                                    <td>{{inscrito.nome}}</td>
                                                                                    <td>{{inscrito.cpf}}</td>
                                                                                    <td>{{inscrito.situacao}}</td>
                                                                                    <td style="text-align:center;">
                                                                                        <fgv-table-action-content *ngIf = "habilitaAcoes(inscrito)"
                                                                                            titulo="Ações" >
                                                                                            <fgv-table-action-button
                                                                                            *ngIf="inscrito.situacao == 'Habilitado'"
                                                                                            text="Desabilitar"
                                                                                            titulo="Desabilitar aluno Habilitado"
                                                                                            (onClick)="removerHabilitacao(inscrito)">
                                                                                            </fgv-table-action-button>
                                                                                            <fgv-table-action-button
                                                                                            *ngIf="inscrito.situacao == 'Inscrito'"
                                                                                            text="Desabilitar"
                                                                                            titulo="Desabilitar aluno Inscrito"
                                                                                            (onClick)="inabilitar(inscrito)">
                                                                                            </fgv-table-action-button>
                                                                                            <!-- <fgv-table-action-button
                                                                                            *ngIf="inscrito.situacao == 'Inabilitado'"
                                                                                            text="Retornar para Inscrito"
                                                                                            titulo="Inscrever aluno Inabilitado."
                                                                                            (onClick)="inscrever(inscrito)">
                                                                                            </fgv-table-action-button> -->
                                                                                        </fgv-table-action-content>
                                                                                    </td>
                                                                                </tr>
                                                                            </ng-template>
                                                                        </p-table>
                                                                        <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
                                                                            {{l('Nenhum registro encontrado')}}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <hr />
                                                                <div class="row">
                                                                    <div class="col-12" style="text-align: right;">
                                                                        <button type="button" (click)="habilitarInscritos(i.turma)"
                                                                            class="btn btn-primary" [disabled]="this.selectedInscritos.length == 0">
                                                                            Habilitar
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4" style="margin-bottom: 10px; margin-top: 10px; padding-left:0;">
                                                                <div class="form-group m-form__group ui-table-thead">
                                                                    <div class="row form-group">
                                                                        <div class="col-md-4">
                                                                            <label for="Candidatos">Candidatos</label>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label for="qtdCandidatos">{{totalizador(i.turma,'Candidatos')}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row form-group">
                                                                        <div class="col-md-4">
                                                                            <label for="Inscritos">Inscritos</label>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label for="qtdInscritos">{{totalizador(i.turma,'Inscritos')}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row form-group">
                                                                        <div class="col-md-4">
                                                                            <label for="Habilitados">Habilitados</label>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label for="qtdHabilitados">{{totalizador(i.turma,'Habilitados')}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row form-group">
                                                                        <div class="col-md-4">
                                                                            <label for="Desabilitados">Desabilitados</label>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label for="qtdDesabilitados">{{totalizador(i.turma,'Desabilitados')}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row form-group">
                                                                        <div class="col-md-4">
                                                                            <label for="Pendentes">Pendentes</label>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label for="qtdPendentes">{{totalizador(i.turma,'Pendentes')}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row form-group">
                                                                        <div class="col-md-4">
                                                                            <label for="Matriculados">Matriculados</label>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label for="qtdMatriculados">{{totalizador(i.turma,'Matriculados')}}</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </accordion-group>
                            </accordion>
                        </fgv-card>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>



